<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Category Selection</title>
</head>
<body>
    <h1>Category Selection</h1>

    <form method="POST">
        <!-- Main Category Dropdown -->
        <label for="main_category">Main Category:</label>
        <select name="main_category" id="main_category" onchange="this.form.submit()">
            <option value="">--Select Main Category--</option>
            {% for category in main_categories %}
                <option value="{{ category }}" {% if selected_main_category == category %}selected{% endif %}>
                    {{ category }}
                </option>
            {% endfor %}
        </select>
    </form>
    
    <form method="POST">
        <!-- Subcategory Dropdown -->
        <label for="sub_category">Subcategory:</label>
        <select name="sub_category" id="sub_category">
            <option value="">--Select Subcategory--</option>
            {% for subcategory in subcategories %}
                <option value="{{ subcategory }}">{{ subcategory }}</option>
            {% endfor %}
        </select>
        <button type="submit">Show Items</button>
    </form>
    
    <!-- Display Items Table -->
    {% if items %}
        <table>
            <tr>
                <th>Item ID</th>
                <th>Name</th>
                <th>Description</th>
            </tr>
            {% for item in items %}
                <tr>
                    <td>{{ item[0] }}</td>
                    <td>{{ item[1] }}</td>
                    <td>{{ item[2] }}</td>
                </tr>
            {% endfor %}
        </table>
    {% endif %}
    
    <!-- Textbox for Item ID -->
    <form method="POST">
        <label for="item_id">Enter Item ID:</label>
        <input type="text" name="item_id" id="item_id">
        <button type="submit">Add Item</button>
    </form>
    
    <!-- Display Message -->
    {% if message %}
        <p>{{ message }}</p>
    {% endif %}
    
</body>
</html>
